<view class="container">
  <view class="question-list">
    <block wx:if="{{loading}}">
      <view class="skeleton-card" wx:for="{{[1,2,3,4]}}" wx:key="*this">
        <view class="skeleton-line w-80"></view>
        <view class="skeleton-line w-60"></view>
        <view class="skeleton-line w-40"></view>
      </view>
    </block>

    <block wx:elif="{{!loading}}">
      <view 
        class="question-item" 
        wx:for="{{questions}}" 
        wx:key="_id"
        bindtap="goToDetail"
        data-id="{{item._id}}"
      >
        <view class="title">{{item.title || item.question}}</view>
        <view class="excerpt" wx:if="{{item.content}}">{{item.content}}</view>
        <view class="meta">
          <view class="tag">
            <text class="icon cuIcon-tag"></text>
            <text>{{item.category}}</text>
          </view>
          <view class="time">
            <text class="icon cuIcon-time"></text>
            <text>{{item.createTime}}</text>
          </view>
          <view class="views" wx:if="{{item.viewCount}}">
            <text>浏览 {{item.viewCount}}</text>
          </view>
          <text class="icon icon-arrow-right" style="margin-left:auto;"></text>
        </view>
      </view>

      <view class="empty" wx:if="{{questions.length === 0}}">
        <text class="icon cuIcon-emoji"></text>
        <text>暂无相关问题</text>
      </view>
    </block>
  </view>

  <view class="refresh-container" wx:if="{{refreshing}}">
    <text class="icon cuIcon-refresh"></text>
    <text>刷新中...</text>
  </view>
</view>